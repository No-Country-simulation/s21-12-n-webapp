<app-header></app-header>

<br>

<form class="px-4 max-w-md mx-auto relative" (ngSubmit)="onSearch()">
  <div class="flex gap-1 input">
    <button type="submit">
      <img src="assets/icons/Search.svg" class="opacity-60" />
    </button>
    <input type="text" id="default-search"
      class="w-full bg-transparent focus:ring-0 border-none text-neutral-00 placeholder-neutral-60"
      placeholder="Buscar barbería" (input)="onSearch()" required />
  </div>

  <!-- Mensaje de error si el usuario no está autenticado -->
  <span class="block w-full min-h-10 text-red-500 text-xs mt-2 pl-2" role="alert">
    {{ errorMessage }}
  </span>

 
  <div *ngIf="filteredBarberias.length > 0" class="absolute top-16 left-0  w-full container p-4 max-w-md z-[2]">
    <ul class="rounded-8 border-neutral-80 border-[1px] bg-neutral-100 p-4 space-y-1">
      <li *ngFor="let barberia of filteredBarberias">
        <a [routerLink]="['/profile/barber', barberia.id]" class="search-item">{{ barberia.nombreBarberia }} {{ barberia.direccion }}</a>
      </li>      
    </ul>
  </div>
</form>

<div class="px-4 md:px-16 lg:px-32">
  <div #fractionSlideCarousel class="fraction-slide-carousel">
      <h1 class="mx-auto text-white text-3xl">Recomendaciones</h1>
      <div class="w-full ">
          <div class="swiper fraction-slide-carousel swiper-container ">
              <div class="swiper-wrapper">
                  <div class="swiper-slide" *ngFor="let barberia of barberias">
                      <div *ngIf="barberia.id"  class="bg-neutral-950 rounded-2xl p-4 h-96 flex flex-col">
                          <img [src]="barberia.fotoPerfil" alt="{{ barberia.nombreBarberia }}" class="rounded-t-2xl h-40 w-full object-cover">
                          <div class="flex-grow p-4">
                              <h2 class="text-white text-xl font-semibold">{{ barberia.nombreBarberia }}</h2>
                              <p class="text-gray-400">{{ barberia.direccion }}</p>
                              <button [routerLink]="['/profile/barber', barberia.id]"  class="bg-amber-400 hover:bg-amber-600 text-black py-2 px-4 rounded-lg mt-4 w-full">
                                Ver perfil
                            </button>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>

<!--

<div style="width: 100%; height: 500px;">
  <google-map [center]="center" [zoom]="zoom" [options]="{ mapTypeId: 'roadmap' }">
      <map-marker *ngFor="let marker of markers" [position]="marker.position!" [title]="marker.title!">
      </map-marker>
    </google-map>
</div>

-->